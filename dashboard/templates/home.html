{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block titulo %}{% endblock %}</title>
    <!--Icono del Proyecto-->
    <link rel="icon" href="{% static 'img/icono.png' %}" />

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'lib/AdminLTE-3.2.0/plugins/fontawesome-free/css/all.min.css' %}" />
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="{% static 'lib/AdminLTE-3.2.0/plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}" />
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'lib/adminLTE-3.2.0/css/adminlte.min.css' %}" />
    <link rel="stylesheet" href="{% static 'lib/datatables-1.10.25/css/dataTables.bootstrap4.min.css' %}" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!--Chartjs CDN-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <!--Datatable-->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
  


  </head>
  <body class="hold-transition sidebar-mini layout-fixed">
    <!-- Site wrapper -->
    <div class="wrapper">
      {% include 'header.html' %}
      {% include 'sidebar.html' %}

      <div class="content-wrapper">
        <br />
        <section class="content">
          <div class="container-fluid">
            <div class="row">
              <div class="col-12">
                <!-- Default box -->
                <div class="card card-primary">
                  <div class="card-header">
                    <h3 class="card-title">{% block icon %}<i class="fas fa-search"></i>{% endblock %} <b>&nbsp;&nbsp;&nbsp;&nbsp;{{ title }}</b></h3>
                    
                    <div class="card-tools">
                      {% if user.is_authenticated %}
                        <small>Su último acceso al sistema fue el {{ request.user.last_login }}</small>
                      {% endif %}
                    </div>
                  </div>
                  <div class="card-body">
                    {% if messages %}
                      {% for message in messages %}
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                          {{ message }}
                          <button type="button" class="btn-close" data-dismiss="alert" aria-label="close"></button>
                        </div>
                      {% endfor %}
                    {% endif %}

                    {% block content %}

                    {% endblock content %}
                  </div>
                  <!-- /.card-body -->
                </div>
                <!-- /.card -->
              </div>
            </div>
          </div>
        </section>
      </div>

      <aside class="control-sidebar control-sidebar-dark"></aside>
      {% include 'footer.html' %}
    </div>

    <!-- jQuery -->
    <script src="{% static 'lib/AdminLTE-3.2.0/plugins/jquery/jquery.min.js' %}"></script>
    <!-- Bootstrap 4 -->
    <script src="{% static 'lib/AdminLTE-3.2.0/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <!-- overlayScrollbars -->
    <script src="{% static 'lib/AdminLTE-3.2.0/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static 'lib/AdminLTE-3.2.0/js/adminlte.min.js' %}"></script>
    <!--Chartjs CDN-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <!--Ion icons-->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Datatables -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>    
    <script type="application/javascript">
      $(function () {
          $('#myTable').DataTable({
              language: {
                  decimal: "",
                  emptyTable: "No hay información",
                  info: "Mostrando _START_ a _END_ de _TOTAL_ Entradas",
                  infoEmpty: "Mostrando 0 to 0 of 0 Entradas",
                  infoFiltered: "(Filtrado de MAX total entradas)",
                  infoPostFix: "",
                  thousands: ",",
                  lengthMenu: "Mostrar MENU Entradas",
                  loadingRecords: "Cargando...",
                  processing: "Procesando...",
                  search: "Buscar:",
                  zeroRecords: "Sin resultados encontrados",
                  paginate: {
                      first: "Primero",
                      last: "Ultimo",
                      next: "Siguiente",
                      previous: "Anterior",
                  },
                  },        
              responsive: true,
              autoWidth: false,
              dom: 'Bfrtip',
              buttons: [
                  'excel',
              ]            
          });
      });
      </script>
    <!-- Menu sidebar -->
    <script language="JavaScript">
      /*** add active class and stay opened when selected ***/
      var url = window.location;

      // for sidebar menu entirely but not cover treeview
      $('ul.nav-sidebar a').filter(function() {
          if (this.href) {
              return this.href == url || url.href.indexOf(this.href) == 0;
          }
      }).addClass('active');

      // for the treeview
      $('ul.nav-treeview a').filter(function() {
          if (this.href) {
              return this.href == url || url.href.indexOf(this.href) == 0;
          }
      }).parentsUntil(".nav-sidebar > .nav-treeview").addClass('menu-open').prev('a').addClass('active');
  </script>
    
  </body>
</html>